// Several DOM displays are best set programatically. Those are done here. 
  
// This adjusts map height to the user's screen size, then takes off a bit to make room for the buttons to show beneath
// the map. Set the map-dependent DOM elements by this value in the three lines after this.
(function onLoadSetMapHeight(){
  var mapHeight = window.innerHeight - 55;
  document.getElementById('mainViewSection').style.height = mapHeight;
  document.getElementById('map').style.height = mapHeight;
  document.getElementById('text').style.height = mapHeight;
})()

(function onLoadSetInputDates(){
  // Since Twitter will only search back a week or so, set the placeholders of the input 
  // boxes to 6 (ish) days ago. 
  var end = new Date();
  var start = new Date(end - Week + 86400 * 1000); // That math at the end equals one day, in ms.
  setDisplay('enddate', end);
  setDisplay('startdate', start);

  // Show placeholder dates in 'month/day/year' format in a given input box.
  function setDisplay(html, date){
    date = (date.getMonth() + 1) + '/' + date.getDate() + '/' + date.getFullYear();
    document.getElementById(html).value = date;
  }
})()

(function onLoadSetBannerStyle(){
  // In order to toggle DOM values in "buttonHandler", the following properties all need to be strings. Setting 
  // them in the css file gives them a Style Object class, confusing the toggle action.
  document.getElementById('bannerContentDiv').style.height = "60px";
  document.getElementById('contentBtns').style.bottom = "5px";
})()

// All these follow the pattern used in "buttonDisp": set the "firstChild.data" of the key to its value. 
(function onLoadSetButtonText(){
  var buttons = {'pauseBtn': 'Pause',
                 'togCircVisBtn': 'Hide Circles',
                 'togTextVisBtn': 'Hide Text Crawl',
                 'instrBtn': 'See Map Tips',
                 'aboutBtn': 'What Does This App Do?',
               };
  buttonDisp(buttons);

  // Set a given string to appear on a given button; ensures it is ok for the toggling in "buttonHandler". 
  function buttonDisp(htmls){
    var key;
    for (key in htmls){
      document.getElementById(key).firstChild.data = htmls[key];
    }
  }
})()

// This gives a y-coordinate which allows "scrollTo" calls to jump the user to the form. Defined here instead of 
// "initGlobals.js" to ensure the map's height is up-to-date.
const yOffsetForm = document.getElementById('bannerContentDiv').getBoundingClientRect().height + 
                    document.getElementById('map').getBoundingClientRect().height;